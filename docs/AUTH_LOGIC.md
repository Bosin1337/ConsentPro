# Логика авторизации и ролей

## Сценарии

### 1. Новый пользователь

- Пользователь отправляет команду `/start`.
- Бот проверяет, есть ли `telegram_id` пользователя в таблице `users`.
- Если нет, бот добавляет пользователя в `users` с ролью по умолчанию (например, "Родитель") или без роли.
- **Решение:** Новый пользователь не получает роль и видит только приветственное сообщение. Авторизация происходит после того, как учитель или администратор добавит его в систему.

### 2. Существующий пользователь

- Пользователь отправляет `/start`.
- Бот находит пользователя в `users` и определяет его роль.
- В зависимости от роли (`Администратор`, `Учитель`, `Родитель`) бот будет показывать разный набор доступных команд.

## План реализации

1.  **`models/user.py`**:
    - Написать функции `get_user_by_telegram_id(telegram_id)`, `create_user(telegram_id, role_id)`.
2.  **`handlers/start.py`**:
    - Реализовать обработчик команды `/start`, использующий функции из `models/user.py`.
3.  **`utils/auth.py`**:
    - Создать декоратор для проверки роли пользователя перед выполнением команды.
4.  **`bot/main.py`**:
    - Интегрировать новый обработчик.